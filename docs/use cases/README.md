# Модель прецедентів


## Загальна діаграма прецедентів


@startuml
```
skinparam defaultTextAlignment center
skinparam backgroundColor #ffffff
skinparam activity {
    StartColor #aee9d1
    EndColor #aee9d1
    BackgroundColor<<User>> #e6faec
    BackgroundColor<<System>> #f5f5f5
    BorderColor black
    FontSize 14
    ArrowColor Black
}

|Користувач| <<User>>
start
:Увійти в систему;
note right #ffcccc
Або зареєструватися
end note

|Система| <<System>>
:Перевірка облікових даних;

|Користувач| <<User>>
:Обрати дію в кабінеті;

|Система| <<System>>
:Відображення опцій;

|Користувач| <<User>>
:Створити / редагувати / видалити опитування;

|Система| <<System>>
:Зберегти / оновити / видалити опитування;

|Користувач| <<User>>
:Переглянути результати;
:Експортувати відповіді;

|Система| <<System>>
:Формування результатів або файлу;

stop
```
@enduml

![Опис картинки](https://github.com/user-attachments/assets/c39654da-edfd-494e-bb74-724dff454c51)

## Схема користувача

@startuml
```
skinparam backgroundColor #ffffff
skinparam usecase {
  BackgroundColor #e6faec
  BorderColor black
  ArrowColor #6f6f6f
  FontSize 14
}

actor Користувач as User

' Групування по напрямках
usecase "Увійти\n(USER.SIGNIN)" as SIGNIN
usecase "Створити опитування\n(SURVEY.CREATE)" as CREATE
usecase "Редагувати опитування\n(SURVEY.UPDATE)" as UPDATE
usecase "Видалити опитування\n(SURVEY.DELETE)" as DELETE
usecase "Переглянути опитування\n(SURVEY.GET)" as GET
usecase "Отримати результати\n(SURVEY.GET_RESULTS)" as RESULTS
usecase "Експортувати відповідь\n(SURVEY.EXPORT)" as EXPORT
usecase "Відправити відповідь\n(RESPONSE.SEND)" as SEND

' Коло навколо користувача
User -up-> SIGNIN
User -right-> CREATE
User -down-> UPDATE
User -left-> DELETE
User -up-> GET
User -right-> RESULTS
User -down-> EXPORT
User -left-> SEND
```
@enduml

![image](https://github.com/user-attachments/assets/8e9cb807-7b29-4d8e-99bc-6e7455b07973)


# Сценарії використання

## USER_SIGN_UP

| **ID**                 | USER_SIGN_UP                                           |
|------------------------|--------------------------------------------------------|
| **Назва**              | Зареєструвати користувача                              |
| **Учасники**           | Користувач, Система                                    |
| **Передумови**         | Користувач не має облікового запису                    |
| **Результат**          | Користувач успішно зареєстрований у системі            |
| **Виключні ситуації**  | - Введено некоректні дані — `InvalidDataException`  <br> - Користувач вже зареєстрований — `AlreadyRegisteredException` |
| **Основний сценарій**  | 1. Користувач відкриває сторінку реєстрації  <br> 2. Вносить необхідні дані (ім’я, email, пароль)  <br> 3. Система обробляє запит  <br> 4. Система створює обліковий запис  <br> 5. Система повідомляє користувача про успішну реєстрацію |


---
@startuml
```
|Користувач|
start
skinparam defaultTextAlignment center

:Користувач відкриває сторінку реєстрації;
:Користувач заповнює поля\n(Ім’я, Email, Пароль);

|#e6faec|Система|
:Система перевіряє коректність даних;
note right #ff8170
EX.01.01 — Некоректний формат email/поля порожні
end note

:Система перевіряє, чи обліковий запис з email уже існує;
note right #ff8170
EX.01.02 — Користувач уже зареєстрований
end note

|Користувач|
:Користувач натискає кнопку "Підтвердити";

|#e6faec|Система|
:Система створює новий обліковий запис;
:Система надсилає підтвердження успішної реєстрації;
:Система перенаправляє користувача на головну сторінку;

|Користувач|
:Головна сторінка відображається;
stop
```
@enduml

![image](https://github.com/user-attachments/assets/8e0fa989-32f3-4580-bf42-582ef03e9025)



## USER_SIGN_IN

| **ID**                 | USER_SIGN_IN                                           |
|------------------------|--------------------------------------------------------|
| **Назва**              | Увійти                                                 |
| **Учасники**           | Користувач, Система                                    |
| **Передумови**         | Користувач зареєстрував обліковий запис                |
| **Результат**          | Вхід до облікового запису                              |
| **Виключні ситуації**  | - Користувач не надав необхідні дані <br> - Користувач увів неправильні дані |
| **Основний сценарій**  | 1. Користувач відкриває сторінку авторизації <br> 2. Вносить необхідні дані <br> 3. Система перевіряє правильність введених даних <br> 4. Користувач отримує доступ до облікового запису |

---

@startuml
```
skinparam defaultTextAlignment center

|Користувач|
start
:Користувач відкриває сторінку авторизації;
:Користувач вводить email та пароль;
:Натискає кнопку "Увійти";

|#e6faec|Система|
:Система перевіряє, чи заповнені обовʼязкові поля;
note right #ff8170
EX.02.01 — Порожні дані авторизації
end note

:Система перевіряє правильність email та паролю;
note right #ff8170
EX.02.02 — Невірний email або пароль
end note

:Система авторизує користувача;
:Система перенаправляє користувача на головну сторінку;

|Користувач|
:Відображається головна сторінка;
stop
```
@enduml

![image](https://github.com/user-attachments/assets/fb829190-2303-4ce1-bed4-a141d06c9705)

## POST_SURVEY

| **ID**                 | POST_SURVEY                                           |
|------------------------|--------------------------------------------------------|
| **Назва**              | Створення опитування                                  |
| **Учасники**           | Користувач, Система                                   |
| **Передумови**         | Користувач увійшов у обліковий запис та має права на створення опитування |
| **Результат**          | Опитування успішно створене                           |
| **Виключні ситуації**  | - Користувач не має права створювати опитування <br> - Опитування не містить жодного питання |
| **Основний сценарій**  | 1. Користувач створює опитування <br> 2. Заповнює необхідні поля питаннями <br> 3. Система зберігає звіт <br> 4. Система зберігає опитування в базі даних |

---


@startuml
```
skinparam defaultTextAlignment center

|Користувач|
start
:Користувач натискає кнопку "Створити опитування";
:Користувач вводить назву, опис та додає питання;
:Натискає кнопку "Зберегти";

|#e6faec|Система|
:Система перевіряє права користувача;
note right #ff8170
EX.03.01 — Недостатні права на створення опитування
end note

:Система перевіряє, чи є хоча б одне питання;
note right #ff8170
EX.03.02 — Опитування не містить жодного питання
end note

:Система формує звіт про опитування;
:Система зберігає опитування у базу даних;

|Користувач|
:Користувач отримує підтвердження про успішне створення;
stop
```
@enduml

![image](https://github.com/user-attachments/assets/f3bd0fd1-31e2-480e-8b8a-f192f5f72aba)

## GET_SURVEY

| **ID**                 | GET_SURVEY                                           |
|------------------------|--------------------------------------------------------|
| **Назва**              | Отримати інформацію про опитування                    |
| **Учасники**           | Користувач, Система                                   |
| **Передумови**         | Користувач створив опитування та його пройшли інші користувачі |
| **Результат**          | Користувач отримає бажану інформацію                  |
| **Виключні ситуації**  | - Опитування не проходили                              |
| **Основний сценарій**  | 1. Користувач відкриває меню опитування <br> 2. Надсилає запит на перегляд інформації про опитування <br> 3. Обробка запиту системою <br> 4. Система надає результати опитування користувачу |

---


@startuml
```
skinparam defaultTextAlignment center

|Користувач|
start
:Користувач відкриває меню "Мої опитування";
:Користувач обирає потрібне опитування;
:Натискає "Переглянути інформацію";

|#e6faec|Система|
:Система приймає запит на перегляд;
:Система перевіряє, чи було пройдено опитування іншими користувачами;
note right #ff8170
EX.04.01 — Опитування не проходили
end note

:Система обробляє запит;
:Система генерує інформацію (статистика, аналітика тощо);

|Користувач|
:Користувач переглядає інформацію про опитування;
stop
```
@enduml

![image](https://github.com/user-attachments/assets/d7afda9c-cb1f-4de4-87b0-edb4f5240158)

## GET_SURVEY_RESULTS

| **ID**                 | GET_SURVEY_RESULTS                                    |
|------------------------|--------------------------------------------------------|
| **Назва**              | Отримати результати опитування                        |
| **Учасники**           | Користувач, Система                                   |
| **Передумови**         | Користувач створив опитування та пройшов його        |
| **Результат**          | Користувач отримав результат обраного опитування     |
| **Виключні ситуації**  | - Опитування не існує або опитування не було пройдене|
| **Основний сценарій**  | 1. Користувач обирає конкретне опитування <br> 2. Надсилає запит для перегляду результатів <br> 3. Система обробляє запит <br> 4. Система надає результати опитування |

---


@startuml
```
skinparam defaultTextAlignment center

|Користувач|
start
:Користувач відкриває список створених опитувань;
:Користувач обирає потрібне опитування;
:Натискає "Переглянути результати";

|#e6faec|Система|
:Система приймає запит на перегляд результатів;
:Система перевіряє, чи опитування існує та було пройдене;
note right #ff8170
EX.05.01 — Опитування не існує  
EX.05.02 — Опитування не було пройдене
end note

:Система обробляє запит;
:Система генерує результати;

|Користувач|
:Користувач переглядає результати опитування;
stop
```
@enduml

![image](https://github.com/user-attachments/assets/e6b118d6-da45-4598-80dd-149bd4797ad5)


## UPDATE_SURVEY

| **ID**                 | UPDATE_SURVEY                                        |
|------------------------|--------------------------------------------------------|
| **Назва**              | Змінити опитування                                   |
| **Учасники**           | Користувач, Система                                  |
| **Передумови**         | Користувач створив опитування                        |
| **Результат**          | Опитування відредаговане                             |
| **Виключні ситуації**  | - Недостатні права доступу <br> - Опитування заборонене до змін |
| **Основний сценарій**  | 1. Користувач відкриває меню опитування <br> 2. Обирає потрібне опитування для редагування <br> 3. Вносить зміни <br> 4. Система зберігає змінені дані <br> 5. Система повідомляє про успішне редагування |

---


@startuml
```
skinparam defaultTextAlignment center

|Користувач|
start
:Користувач відкриває меню опитування;
:Користувач обирає потрібне опитування для редагування;

|#e6faec|Система|
:Система перевіряє права доступу користувача;
note right #ff8170
EX.06.01 — Недостатні права доступу  
EX.06.02 — Опитування заборонене до змін
end note

|Користувач|
:Користувач вносить зміни до опитування;
:Натискає кнопку "Зберегти";

|#e6faec|Система|
:Система зберігає змінені дані;
:Система повідомляє про успішне редагування;

|Користувач|
:Користувач бачить оновлену інформацію;
stop
```
@enduml

![image](https://github.com/user-attachments/assets/075cb4e1-4724-4fec-ae73-9bb3d91bc716)


## DELETE_SURVEY

| **ID**                 | DELETE_SURVEY                                        |
|------------------------|--------------------------------------------------------|
| **Назва**              | Видалити опитування                                  |
| **Учасники**           | Користувач, Система                                  |
| **Передумови**         | Користувач бажає видалити опитування                 |
| **Результат**          | Система прибирає опитування                           |
| **Виключні ситуації**  | - Опитування не було створене                         |
| **Основний сценарій**  | 1. Користувач обирає опитування для видалення <br> 2. Надсилає запит на видалення опитування <br> 3. Система обробляє запит на видалення |

---


@startuml
```
skinparam defaultTextAlignment center

|Користувач|
start
:Користувач обирає опитування, яке хоче видалити;
:Користувач підтверджує вибір опитування;

|Користувач|
:Користувач надсилає запит на видалення опитування;

|#e6faec|Система|
:Система перевіряє наявність опитування;
note right #ff8170
EX.07.01 — Опитування не було створене
end note

:Система видаляє опитування з бази даних;
:Система підтверджує видалення користувачу;

|Користувач|
stop
```
@enduml

![image](https://github.com/user-attachments/assets/96eb0e64-0422-4555-85a7-5632a562bf2c)


## SEND_RESPONSE

| **ID**                 | SEND_RESPONSE                                        |
|------------------------|--------------------------------------------------------|
| **Назва**              | Відправити відповідь на опитування                   |
| **Учасники**           | Користувач, Система                                  |
| **Передумови**         | Опитування завершене                                 |
| **Результат**          | Посилання на файл із відповіддю                      |
| **Виключні ситуації**  | - Опитування триває <br> - Користувач не має доступу до опитування |
| **Основний сценарій**  | 1. Користувач обирає опитування, результати якого необхідно експортувати <br> 2. Надсилає до системи запит на отримання файлу з відповіддю <br> 3. Система обробляє запит <br> 4. Система надає посилання для завантаження файлу з відповіддю |



@startuml
```
skinparam defaultTextAlignment center

|Користувач|
start
:Користувач обирає опитування для експорту відповіді;

|Користувач|
:Користувач надсилає запит на отримання файлу з відповіддю;

|#e6faec|Система|
:Система перевіряє статус опитування;
note right #ff8170
EX.08.01 — Опитування триває
EX.08.02 — Користувач не має доступу
end note

:Система генерує файл з відповіддю;
:Система надає посилання для завантаження файлу;

|Користувач|
stop
```
@enduml

![image](https://github.com/user-attachments/assets/7edf75b3-ed4a-4537-b669-5f5e2ea3a000)






